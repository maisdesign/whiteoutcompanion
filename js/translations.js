// === TRADUZIONI COMPLETE ===
    const translations = {
      it: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Gestione professionale alleanze con calibrazione mappa",
        alliances: "Alleanze",
        assigned: "Assegnate",
        allianceManagement: "🏰 Gestione Alleanze",
        allianceName: "Nome alleanza...",
        addAlliance: "✨ Aggiungi Alleanza",
        exportCSV: "📊 Esporta CSV",
        exportPNG: "🖼️ Esporta PNG",
        importCSV: "📥 Importa CSV",
        language: "🌐 Lingua",
        selectLanguage: "🌐 Seleziona Lingua",
        interactiveMap: "🗺️ Mappa Interattiva",
        legend: "Legenda",
        legendTitle: "🎨 Legenda Colori Ufficiali",
        facilitySummary: "📋 Riepilogo Strutture",
        buffSummary: "⚡ Riepilogo Buff",
        advancedCalibration: "🔧 Calibrazione Avanzata",
        unassigned: "Non assegnata",
        // Colori
        colorCastle: "Castle (Oro)",
        colorConstruction: "Construction (Blu)",
        colorProduction: "Production (Verde)",
        colorDefense: "Defense (Verde Acqua)",
        colorGathering: "Gathering (Viola)",
        colorTech: "Research/Tech (Arancione)",
        colorWeapons: "Troop Attack (Rosso)",
        colorTraining: "Training (Giallo)",
        colorExpedition: "March/Expedition (Rosa)",
        colorStronghold: "Stronghold (Marrone)",
        colorFortress: "Fortress (Grigio Scuro)",
        // Messaggi
        noStructuresLoaded: "Nessuna struttura caricata",
        noAllianceAssigned: "Nessuna alleanza assegnata",
        noBuffRecognized: "Nessun buff riconosciuto",
        structures: "strutture",
        addAtLeastOneAlliance: "⚠️ Aggiungi almeno un'alleanza prima di assegnare.",
        enterAllianceName: "Inserisci un nome per l'alleanza",
        allianceExists: "Alleanza già esistente",
        maxAlliances: "Massimo 50 alleanze",
        emptyCsv: "CSV vuoto o non valido",
        importError: "Errore nell'importazione del CSV",
        languageSet: "🌐 Lingua impostata!",
        calibrationUnlocked: "🔓 Calibrazione sbloccata!",
        wrongPassword: "❌ Password errata!",
        appLoaded: "🎯 App caricata! {count} strutture con colori ufficiali.",
        assigned: "assegnate"
      },
      en: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Professional alliance management with map calibration",
        alliances: "Alliances",
        assigned: "Assigned",
        allianceManagement: "🏰 Alliance Management",
        allianceName: "Alliance name...",
        addAlliance: "✨ Add Alliance",
        exportCSV: "📊 Export CSV",
        exportPNG: "🖼️ Export PNG",
        importCSV: "📥 Import CSV",
        language: "🌐 Language",
        selectLanguage: "🌐 Select Language",
        interactiveMap: "🗺️ Interactive Map",
        legend: "Legend",
        legendTitle: "🎨 Official Colors Legend",
        facilitySummary: "📋 Facility Summary",
        buffSummary: "⚡ Buff Summary",
        advancedCalibration: "🔧 Advanced Calibration",
        unassigned: "Unassigned",
        // Colori
        colorCastle: "Castle (Gold)",
        colorConstruction: "Construction (Blue)",
        colorProduction: "Production (Green)",
        colorDefense: "Defense (Teal)",
        colorGathering: "Gathering (Purple)",
        colorTech: "Research/Tech (Orange)",
        colorWeapons: "Troop Attack (Red)",
        colorTraining: "Training (Yellow)",
        colorExpedition: "March/Expedition (Pink)",
        colorStronghold: "Stronghold (Brown)",
        colorFortress: "Fortress (Dark Gray)",
        // Messaggi
        noStructuresLoaded: "No structures loaded",
        noAllianceAssigned: "No alliance assigned",
        noBuffRecognized: "No buff recognized",
        structures: "structures",
        addAtLeastOneAlliance: "⚠️ Add at least one alliance before assigning.",
        enterAllianceName: "Enter an alliance name",
        allianceExists: "Alliance already exists",
        maxAlliances: "Maximum 50 alliances",
        emptyCsv: "Empty or invalid CSV",
        importError: "Error importing CSV",
        languageSet: "🌐 Language set!",
        calibrationUnlocked: "🔓 Calibration unlocked!",
        wrongPassword: "❌ Wrong password!",
        appLoaded: "🎯 App loaded! {count} structures with official colors.",
        assigned: "assigned"
      },
      es: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Gestión profesional de alianzas con calibración de mapa",
        alliances: "Alianzas",
        assigned: "Asignadas",
        allianceManagement: "🏰 Gestión de Alianzas",
        allianceName: "Nombre de alianza...",
        addAlliance: "✨ Agregar Alianza",
        exportCSV: "📊 Exportar CSV",
        exportPNG: "🖼️ Exportar PNG",
        importCSV: "📥 Importar CSV",
        language: "🌐 Idioma",
        selectLanguage: "🌐 Seleccionar Idioma",
        interactiveMap: "🗺️ Mapa Interactivo",
        legend: "Leyenda",
        legendTitle: "🎨 Leyenda Colores Oficiales",
        facilitySummary: "📋 Resumen de Instalaciones",
        buffSummary: "⚡ Resumen de Buff",
        advancedCalibration: "🔧 Calibración Avanzada",
        unassigned: "Sin asignar",
        // Colori
        colorCastle: "Castle (Oro)",
        colorConstruction: "Construction (Azul)",
        colorProduction: "Production (Verde)",
        colorDefense: "Defense (Verde Agua)",
        colorGathering: "Gathering (Púrpura)",
        colorTech: "Research/Tech (Naranja)",
        colorWeapons: "Troop Attack (Rojo)",
        colorTraining: "Training (Amarillo)",
        colorExpedition: "March/Expedition (Rosa)",
        colorStronghold: "Stronghold (Marrón)",
        colorFortress: "Fortress (Gris Oscuro)",
        // Messaggi
        noStructuresLoaded: "No hay estructuras cargadas",
        noAllianceAssigned: "No hay alianza asignada",
        noBuffRecognized: "No hay buff reconocido",
        structures: "estructuras",
        addAtLeastOneAlliance: "⚠️ Agrega al menos una alianza antes de asignar.",
        enterAllianceName: "Ingresa un nombre de alianza",
        allianceExists: "La alianza ya existe",
        maxAlliances: "Máximo 50 alianzas",
        emptyCsv: "CSV vacío o inválido",
        importError: "Error al importar CSV",
        languageSet: "🌐 ¡Idioma establecido!",
        calibrationUnlocked: "🔓 ¡Calibración desbloqueada!",
        wrongPassword: "❌ ¡Contraseña incorrecta!",
        appLoaded: "🎯 ¡App cargada! {count} estructuras con colores oficiales.",
        assigned: "asignadas"
      },
      fr: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Gestion professionnelle d'alliances avec calibrage de carte",
        alliances: "Alliances",
        assigned: "Assignées",
        allianceManagement: "🏰 Gestion des Alliances",
        allianceName: "Nom d'alliance...",
        addAlliance: "✨ Ajouter Alliance",
        exportCSV: "📊 Exporter CSV",
        exportPNG: "🖼️ Exporter PNG",
        importCSV: "📥 Importer CSV",
        language: "🌐 Langue",
        selectLanguage: "🌐 Sélectionner la Langue",
        interactiveMap: "🗺️ Carte Interactive",
        legend: "Légende",
        legendTitle: "🎨 Légende Couleurs Officielles",
        facilitySummary: "📋 Résumé des Installations",
        buffSummary: "⚡ Résumé des Buff",
        advancedCalibration: "🔧 Calibrage Avancé",
        unassigned: "Non assignée",
        // Colori
        colorCastle: "Castle (Or)",
        colorConstruction: "Construction (Bleu)",
        colorProduction: "Production (Vert)",
        colorDefense: "Defense (Vert d'Eau)",
        colorGathering: "Gathering (Violet)",
        colorTech: "Research/Tech (Orange)",
        colorWeapons: "Troop Attack (Rouge)",
        colorTraining: "Training (Jaune)",
        colorExpedition: "March/Expedition (Rose)",
        colorStronghold: "Stronghold (Marron)",
        colorFortress: "Fortress (Gris Foncé)",
        // Messaggi
        noStructuresLoaded: "Aucune structure chargée",
        noAllianceAssigned: "Aucune alliance assignée",
        noBuffRecognized: "Aucun buff reconnu",
        structures: "structures",
        addAtLeastOneAlliance: "⚠️ Ajoutez au moins une alliance avant d'assigner.",
        enterAllianceName: "Entrez un nom d'alliance",
        allianceExists: "L'alliance existe déjà",
        maxAlliances: "Maximum 50 alliances",
        emptyCsv: "CSV vide ou invalide",
        importError: "Erreur lors de l'importation CSV",
        languageSet: "🌐 Langue définie !",
        calibrationUnlocked: "🔓 Calibrage débloqué !",
        wrongPassword: "❌ Mot de passe incorrect !",
        appLoaded: "🎯 App chargée ! {count} structures avec couleurs officielles.",
        assigned: "assignées"
      },
      de: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Professionelle Allianz-Verwaltung mit Kartenkalibrierung",
        alliances: "Allianzen",
        assigned: "Zugewiesen",
        allianceManagement: "🏰 Allianz-Verwaltung",
        allianceName: "Allianzname...",
        addAlliance: "✨ Allianz Hinzufügen",
        exportCSV: "📊 CSV Exportieren",
        exportPNG: "🖼️ PNG Exportieren",
        importCSV: "📥 CSV Importieren",
        language: "🌐 Sprache",
        selectLanguage: "🌐 Sprache Auswählen",
        interactiveMap: "🗺️ Interaktive Karte",
        legend: "Legende",
        legendTitle: "🎨 Offizielle Farben Legende",
        facilitySummary: "📋 Anlagen-Zusammenfassung",
        buffSummary: "⚡ Buff-Zusammenfassung",
        advancedCalibration: "🔧 Erweiterte Kalibrierung",
        unassigned: "Nicht zugewiesen",
        // Colori
        colorCastle: "Castle (Gold)",
        colorConstruction: "Construction (Blau)",
        colorProduction: "Production (Grün)",
        colorDefense: "Defense (Türkis)",
        colorGathering: "Gathering (Lila)",
        colorTech: "Research/Tech (Orange)",
        colorWeapons: "Troop Attack (Rot)",
        colorTraining: "Training (Gelb)",
        colorExpedition: "March/Expedition (Rosa)",
        colorStronghold: "Stronghold (Braun)",
        colorFortress: "Fortress (Dunkelgrau)",
        // Messaggi
        noStructuresLoaded: "Keine Strukturen geladen",
        noAllianceAssigned: "Keine Allianz zugewiesen",
        noBuffRecognized: "Kein Buff erkannt",
        structures: "Strukturen",
        addAtLeastOneAlliance: "⚠️ Fügen Sie mindestens eine Allianz hinzu, bevor Sie zuweisen.",
        enterAllianceName: "Geben Sie einen Allianznamen ein",
        allianceExists: "Allianz existiert bereits",
        maxAlliances: "Maximal 50 Allianzen",
        emptyCsv: "Leere oder ungültige CSV",
        importError: "Fehler beim CSV-Import",
        languageSet: "🌐 Sprache eingestellt!",
        calibrationUnlocked: "🔓 Kalibrierung freigeschaltet!",
        wrongPassword: "❌ Falsches Passwort!",
        appLoaded: "🎯 App geladen! {count} Strukturen mit offiziellen Farben.",
        assigned: "zugewiesen"
      },
      pt: {
        title: "🗺️ Whiteout Survival Companion",
        subtitle: "Gestão profissional de alianças com calibração de mapa",
        alliances: "Alianças",
        assigned: "Atribuídas",
        allianceManagement: "🏰 Gestão de Alianças",
        allianceName: "Nome da aliança...",
        addAlliance: "✨ Adicionar Aliança",
        exportCSV: "📊 Exportar CSV",
        exportPNG: "🖼️ Exportar PNG",
        importCSV: "📥 Importar CSV",
        language: "🌐 Idioma",
        selectLanguage: "🌐 Selecionar Idioma",
        interactiveMap: "🗺️ Mapa Interativo",
        legend: "Legenda",
        legendTitle: "🎨 Legenda Cores Oficiais",
        facilitySummary: "📋 Resumo de Instalações",
        buffSummary: "⚡ Resumo de Buff",
        advancedCalibration: "🔧 Calibração Avançada",
        unassigned: "Não atribuída",
        // Colori
        colorCastle: "Castle (Ouro)",
        colorConstruction: "Construction (Azul)",
        colorProduction: "Production (Verde)",
        colorDefense: "Defense (Verde Água)",
        colorGathering: "Gathering (Roxo)",
        colorTech: "Research/Tech (Laranja)",
        colorWeapons: "Troop Attack (Vermelho)",
        colorTraining: "Training (Amarelo)",
        colorExpedition: "March/Expedition (Rosa)",
        colorStronghold: "Stronghold (Marrom)",
        colorFortress: "Fortress (Cinza Escuro)",
        // Messaggi
        noStructuresLoaded: "Nenhuma estrutura carregada",
        noAllianceAssigned: "Nenhuma aliança atribuída",
        noBuffRecognized: "Nenhum buff reconhecido",
        structures: "estruturas",
        addAtLeastOneAlliance: "⚠️ Adicione pelo menos uma aliança antes de atribuir.",
        enterAllianceName: "Digite um nome de aliança",
        allianceExists: "Aliança já existe",
        maxAlliances: "Máximo 50 alianças",
        emptyCsv: "CSV vazio ou inválido",
        importError: "Erro ao importar CSV",
        languageSet: "🌐 Idioma definido!",
        calibrationUnlocked: "🔓 Calibração desbloqueada!",
        wrongPassword: "❌ Senha incorreta!",
        appLoaded: "🎯 App carregado! {count} estruturas com cores oficiais.",
        assigned: "atribuídas"
      }
    };